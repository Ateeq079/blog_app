{% extends "blog/base.html" %}

{% block content %}
<div class="row">
  <div class="col-md-6 col-12 mx-md-auto mx-3 mt-5 mb-5 text-center">
    <h2 class="fw-bolder">Posts in {{ category.name }}</h2>
  </div>
</div>

{% for article in articles %}
<div class="row">
  <div class="col-md-6 col-11 mx-md-auto mx-3 mt-5 mb-5">
    <h3 class="fw-bold">
      <a href="{% url 'detail_article' article.pk %}" class="text-decoration-none">
        {{ article.title }}
      </a>
    </h3>
    <p class="text-muted">{{ article.created_date }}</p>
    <p class="text-muted">By {{ article.author.username }}</p>
    <div class="my-3">
      {{ article.content_field|truncatewords_html:50|safe }}
    </div>
    <a href="{% url "detail_article" article.pk %}" class="btn btn-sm btn-outline-primary">
      Read More
    </a>
  </div>
</div>
{% empty %}
<div class="row">
  <div class="col-md-6 col-11 mx-md-auto mx-3 mt-5 mb-5 text-center">
    <p class="text-muted">No articles in this category yet.</p>
  </div>
</div>
{% endfor %}
{% endblock %}
